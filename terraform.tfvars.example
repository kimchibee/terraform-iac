#--------------------------------------------------------------
# General Settings
#--------------------------------------------------------------
project_name = "test"
environment  = "test"
location     = "Korea Central"

tags = {
  Environment = "test"
  ManagedBy   = "Terraform"
  Project     = "Azure-Hub-Spoke"
}

#--------------------------------------------------------------
# Subscription IDs
#--------------------------------------------------------------
hub_subscription_id   = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"  # x-x-x-root-test
spoke_subscription_id = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"  # x-x-x-generative-test

#--------------------------------------------------------------
# Hub Network Configuration
#--------------------------------------------------------------
hub_vnet_address_space = ["10.0.0.0/20"]

hub_subnets = {
  "GatewaySubnet" = {
    address_prefixes = ["10.0.0.0/26"]
  }
  "DNSResolver-Inbound" = {
    address_prefixes = ["10.0.0.64/28"]
    delegation = {
      name         = "Microsoft.Network.dnsResolvers"
      service_name = "Microsoft.Network/dnsResolvers"
      actions      = ["Microsoft.Network/virtualNetworks/subnets/join/action"]
    }
  }
  "DNSResolver-Outbound" = {
    address_prefixes = ["10.0.0.80/28"]
    delegation = {
      name         = "Microsoft.Network.dnsResolvers"
      service_name = "Microsoft.Network/dnsResolvers"
      actions      = ["Microsoft.Network/virtualNetworks/subnets/join/action"]
    }
  }
  "Monitoring-VM-Subnet" = {
    address_prefixes  = ["10.0.1.0/24"]
    service_endpoints = ["Microsoft.Storage", "Microsoft.KeyVault"]
  }
  "AzureFirewallSubnet" = {
    address_prefixes = ["10.0.2.0/26"]
  }
  "AzureFirewallManagementSubnet" = {
    address_prefixes = ["10.0.2.64/26"]
  }
  "AppGatewaySubnet" = {
    address_prefixes = ["10.0.3.0/24"]
  }
  "pep-snet" = {
    address_prefixes                  = ["10.0.4.0/24"]
    private_endpoint_network_policies = "Disabled"
    service_endpoints                 = ["Microsoft.Storage", "Microsoft.KeyVault"]
  }
}

#--------------------------------------------------------------
# Spoke Network Configuration
#--------------------------------------------------------------
spoke_vnet_address_space = ["10.1.0.0/24"]

spoke_subnets = {
  "apim-snet" = {
    address_prefixes  = ["10.1.0.0/26"]
    service_endpoints = ["Microsoft.Storage", "Microsoft.KeyVault", "Microsoft.EventHub"]
  }
  "pep-snet" = {
    address_prefixes                  = ["10.1.0.64/26"]
    private_endpoint_network_policies = "Disabled"
  }
}

#--------------------------------------------------------------
# VPN Gateway Configuration
#--------------------------------------------------------------
vpn_gateway_sku  = "VpnGw1"
vpn_gateway_type = "Vpn"

local_gateway_configs = [
  {
    name            = "lgw-01"
    gateway_address = "203.0.113.1"  # Replace with actual on-prem gateway IP
    address_space   = ["192.168.0.0/16"]
  }
]

vpn_shared_key = "YourSecureSharedKey123!"  # Replace with actual shared key

#--------------------------------------------------------------
# VM Configuration
#--------------------------------------------------------------
vm_size           = "Standard_B2s"
vm_admin_username = "azureadmin"
vm_admin_password = "YourSecurePassword123!"  # Replace with actual password

#--------------------------------------------------------------
# API Management Configuration
#--------------------------------------------------------------
apim_sku_name        = "Developer_1"
apim_publisher_name  = "Test Organization"
apim_publisher_email = "admin@example.com"

#--------------------------------------------------------------
# Azure OpenAI Configuration
#--------------------------------------------------------------
openai_sku = "S0"

openai_deployments = [
  {
    name       = "gpt-4-1-mini"
    model_name = "gpt-4"
    version    = "0125-Preview"
    capacity   = 10
  },
  {
    name       = "gpt-5-mini"
    model_name = "gpt-4"
    version    = "turbo-2024-04-09"
    capacity   = 10
  }
]

#--------------------------------------------------------------
# Log Analytics Configuration
#--------------------------------------------------------------
log_analytics_retention_days = 30
